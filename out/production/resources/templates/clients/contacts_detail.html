<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:include="layout/header :: header(title = #{clients.contacts.header})"></head>

<body class="theme-blue"> <!-- right-to-left -->
<span th:replace="fragments/layout_v1.html :: top">top</span>

<div class="card flex-fill w-100">
    <div class="card-header">
        <h5 class="card-title mb-0" th:text="#{clients.contacts.caption}"></h5>
    </div>
    <div class="card-body">
        <div>
            <!--/*@thymesVar id="clients_contacts_detail_detail" type="java.util.List"*/-->
            <form id="clients-contacts-detail-updater-form" data-toggle="validator" method="post" class="was-validated" th:action="@{/clients/contacts_model}">
                <!--/*@thymesVar id="mode" type="java.lang.Long"*/-->
                <input type="hidden" id="mode" name="mode" th:value="${mode}">
                <div class="btn-group">
                    <button type="submit" class="btn btn-outline-dark mr-1" th:text="#{general.back}" form="clients-contacts-detail-indexfrm">Cancel</button>
                    <div th:switch="${mode}">
                        <button th:case="0" type="submit" id="clients-contacts-detail-addbtn" class="btn btn-outline-primary" th:text="#{general.addbtn}">Add</button>
                        <button th:case="1" type="submit" id="clients-contacts-detail-editbtn" class="btn btn-outline-primary" th:text="#{general.editbtn}">Edit</button>
                        <button th:case="2" type="submit" id="clients-contacts-detail-delbtn" class="btn btn-outline-primary" th:text="#{general.delbtn}">Delete</button>
                    </div>
                </div>
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="cc_id" th:value="${cc_id}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="cnt_id" th:value="${cnt_id}" >

                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_contacts_detail_table_order_column" th:value="${clients_contacts_detail_table_order_column}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_contacts_detail_table_order_type" th:value="${clients_contacts_detail_table_order_type}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_contacts_detail_table_search" th:value="${clients_contacts_detail_table_search}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_contacts_detail_table_pagelen" th:value="${clients_contacts_detail_table_pagelen}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_contacts_detail_table_page" th:value="${clients_contacts_detail_table_page}" >

                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_list_table_order_column" th:value="${clients_list_table_order_column}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_list_table_order_type" th:value="${clients_list_table_order_type}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_list_table_search" th:value="${clients_list_table_search}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_list_table_pagelen" th:value="${clients_list_table_pagelen}" >
                <!--suppress ThymeleafVariablesResolveInspection -->
                <input type="hidden" name="clients_list_table_page" th:value="${clients_list_table_page}" >

                <div class="form-row">
                    <div class="col-md-1 mb-2" id="cnt_id_row">
                        <label for="cnt_id" class="form-label" th:text="'1. '+ #{clients.list.cnt_id}"></label>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="number" class="form-control" id="cnt_id" name="cnt_id" th:value="${cnt_id}">
                        <div class="valid-feedback" th:text="#{general.field_fill}"> Looks good! </div>
                        <div class="invalid-feedback" th:text="#{general.filed_unfilled}"> Bad! </div>
                    </div>
                    <div class="col-md-5 mb-2">
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <label for="cnt_name" class="form-label" th:text="'2. '+#{clients.list.cnt_name}"></label>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" maxlength="120" class="form-control" id="cnt_name" name="cnt_name" th:value="${cnt_name}">
                        <div class="valid-feedback" th:text="#{general.field_fill}"> Looks good! </div>
                        <div class="invalid-feedback" th:text="#{general.filed_unfilled}"> Bad! </div>
                    </div>
                </div><!-- First Row -->

                <div class="form-row">
                    <div class="col-md-1 mb-2" id="cc_id_row">
                        <label for="cc_id" class="form-label" th:text="'3. '+ #{clients.contacts.cc_id}"></label>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="number" class="form-control" id="cc_id" name="cc_id" th:value="${cc_id}">
                        <div class="valid-feedback" th:text="#{general.field_fill}"> Looks good! </div>
                        <div class="invalid-feedback" th:text="#{general.filed_unfilled}"> Bad! </div>
                    </div>
                    <div class="col-md-3 mb-2" id="cc_person_row">
                        <label for="cc_person" class="form-label" th:text="'4. '+ #{clients.contacts.cc_person}"></label>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" maxlength="32" class="form-control" id="cc_person" name="cc_person" th:value="${cc_person}">
                        <div class="valid-feedback" th:text="#{general.field_fill}"> Looks good! </div>
                        <div class="invalid-feedback" th:text="#{general.filed_unfilled}"> Bad! </div>
                    </div>
                    <div class="col-md-2 mb-2" id="cc_position_row">
                        <label for="cc_position" class="form-label" th:text="'5. '+ #{clients.contacts.cc_position}"></label>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" maxlength="32" class="form-control" id="cc_position" name="cc_position" th:value="${cc_position}">
                        <div class="valid-feedback" th:text="#{general.field_fill}"> Looks good! </div>
                        <div class="invalid-feedback" th:text="#{general.filed_unfilled}"> Bad! </div>
                    </div>
                </div><!-- Second Row -->

                <div class="form-row">
                <div class="col-md-3 mb-2" id="cc_main_phone_row">
                    <label for="cc_main_phone" class="form-label" th:text="'6. '+ #{clients.contacts.cc_main_phone}"></label>
                    <div class="input-group">
                                <span class="input-group-prepend">
                                    <!--suppress ThymeleafVariablesResolveInspection -->
                                    <a class="btn btn-lg btn-dark disabled" id="cc_main_phone_link" th:href="${cc_main_phone_link}" aria-disabled="true"><i data-feather="smartphone"></i></a>
                                </span>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" class="form-control form-control-lg" id="cc_main_phone" name="cc_main_phone" th:value="${cc_main_phone}">
                    </div>
                </div>

                <div class="col-md-3 mb-2" id="cc_second_phone_row">
                    <label for="cc_second_phone" class="form-label" th:text="'7. '+ #{clients.contacts.cc_second_phone}"></label>
                    <div class="input-group">
                                <span class="input-group-prepend">
                                    <!--suppress ThymeleafVariablesResolveInspection -->
                                    <a class="btn btn-lg btn-dark disabled" id="cc_second_phone_link" th:href="${cc_second_phone_link}" aria-disabled="true"><i data-feather="smartphone"></i></a>
                                </span>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" class="form-control form-control-lg" id="cc_second_phone" name="cc_second_phone" th:value="${cc_second_phone}">
                    </div>
                </div>
            </div><!-- Third Row -->

            <div class="form-row">
                <div class="col-md-3 mb-2" id="cc_main_office_phone_row">
                    <label for="cc_main_office_phone" class="form-label" th:text="'8. '+ #{clients.contacts.cc_main_office_phone}"></label>
                    <div class="input-group">
                                <span class="input-group-prepend">
                                    <!--suppress ThymeleafVariablesResolveInspection -->
                                    <a class="btn btn-lg btn-dark disabled" id="cc_main_office_phone_link" th:href="${cc_main_office_phone_link}" aria-disabled="true"><i data-feather="phone-call"></i></a>
                                </span>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" class="form-control form-control-lg" id="cc_main_office_phone" name="cc_main_office_phone" th:value="${cc_main_office_phone}">
                    </div>
                </div>

                <div class="col-md-3 mb-2" id="cc_second_office_phone_row">
                    <label for="cc_second_office_phone" class="form-label" th:text="'9. '+ #{clients.contacts.cc_second_office_phone}"></label>
                    <div class="input-group">
                                <span class="input-group-prepend">
                                    <!--suppress ThymeleafVariablesResolveInspection -->
                                    <a class="btn btn-lg btn-dark disabled" id="cc_second_office_phone_link" th:href="${cc_second_office_phone_link}" aria-disabled="true"><i data-feather="phone-call"></i></a>
                                </span>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <input type="text" class="form-control form-control-lg" id="cc_second_office_phone" name="cc_second_office_phone" th:value="${cc_second_office_phone}">
                    </div>
                </div>
             </div><!-- Forth Row -->

                <div class="form-row">
                    <div class="col-md-3 mb-2" id="cc_email_row">
                        <label for="cc_email" class="form-label" th:text="'10. '+ #{clients.contacts.cc_email}"></label>
                        <div class="input-group">
                                <span class="input-group-prepend">
                                    <!--suppress ThymeleafVariablesResolveInspection -->
                                    <a class="btn btn-lg btn-dark disabled" id="cc_email_link" th:href="${cc_email_link}" aria-disabled="true"><i data-feather="mail"></i></a>
                                </span>
                            <!--suppress ThymeleafVariablesResolveInspection -->
                            <input type="text" class="form-control form-control-lg" id="cc_email" name="cc_email" th:value="${cc_email}">
                        </div>
                    </div>

                    <div class="col-md-3 mb-2" id="cc_skype_row">
                        <label for="cc_skype" class="form-label" th:text="'11. '+ #{clients.contacts.cc_skype}"></label>
                        <div class="input-group">
                                <span class="input-group-prepend">
                                    <!--suppress ThymeleafVariablesResolveInspection -->
                                    <a class="btn btn-lg btn-dark disabled" id="cc_skype_link" th:href="${cc_skype_link}" aria-disabled="true"><i class="fab fa-skype"></i></a>
                                </span>
                            <!--suppress ThymeleafVariablesResolveInspection -->
                            <input type="text" class="form-control form-control-lg" id="cc_skype" name="cc_skype" th:value="${cc_skype}">
                        </div>
                    </div>
                </div><!-- Sixth Row -->

                <div class="form-row">
                    <div class="col-md-6 mb-2" id="cnt_note_row">
                        <label for="cc_note" th:text="'12. '+#{clients.contacts.cc_note}"></label>
                        <!--suppress ThymeleafVariablesResolveInspection -->
                        <textarea class="form-control" rows="3" maxlength="128" style="resize:none;" id="cc_note" name="cc_note" th:text="${cc_note}">
                            </textarea>
                        <div class="valid-feedback" th:text="#{general.field_fill}"> Looks good! </div>
                        <div class="invalid-feedback" th:text="#{general.filed_unfilled}"> Bad! </div>
                    </div>
                </div><!-- Seventh Row -->
            </form>
        </div>
    </div>
</div>

<!--/*@thymesVar id="clients_contacts_detail_detail" type="java.util.List"*/-->
<form id="clients-contacts-detail-indexfrm" method="post" th:action="@{/clients}" hidden>
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="cc_id" th:value="${cc_id}">
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="cnt_id" th:value="${cnt_id}">

    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="table_order_column" th:value="${clients_contacts_detail_table_order_column}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="table_order_type" th:value="${clients_contacts_detail_table_order_type}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="table_search" th:value="${clients_contacts_detail_table_search}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="table_pagelen" th:value="${clients_contacts_detail_table_pagelen}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="table_page" th:value="${clients_contacts_detail_table_page}" >

    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="clients_list_table_order_column" th:value="${clients_list_table_order_column}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="clients_list_table_order_type" th:value="${clients_list_table_order_type}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="clients_list_table_search" th:value="${clients_list_table_search}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="clients_list_table_pagelen" th:value="${clients_list_table_pagelen}" >
    <!--suppress ThymeleafVariablesResolveInspection -->
    <input name="clients_list_table_page" th:value="${clients_list_table_page}" >
</form>

<span th:replace="fragments/layout_v1.html :: bottom">bottom</span>

<span th:replace="fragments/error :: errorscript_frm(formname = 'clients-contacts-detail-indexfrm')">Error</span>

<script>
    $(document).ready(function(){
<!-- Highlight menu -->
        $('#main_li').removeClass('active');

        $('#clients_li').addClass('active').removeClass('collapsed');
        $('#clients_a').attr('aria-expanded',true);
        $('#clients').addClass('show');

        $('#clients_list_a').addClass('text-primary');
<!-- Form Start -->
        $('#cnt_id').prop('readOnly',true);
        $('#cnt_name').prop('readOnly',true);

        $('#cc_person').prop('required',true);
        $('#cc_position').prop('required',true);
        $('#cc_email').prop('required',true);

        <!-- Change Function -->
        function changeCallRequired (){
            if(
                $('#cc_main_phone').val() === ''
                && $('#cc_second_phone').val() === ''
                && $('#cc_main_office_phone').val() === ''
                && $('#cc_second_office_phone').val() === ''
            ){
                $('#cc_main_phone').attr('required',true);
                $('#cc_second_phone').attr('required',true);
                $('#cc_main_office_phone').attr('required',true);
                $('#cc_second_office_phone').attr('required',true);
            }
            else{
                $('#cc_main_phone').removeAttr('required');
                $('#cc_second_phone').removeAttr('required');
                $('#cc_main_office_phone').removeAttr('required');
                $('#cc_second_office_phone').removeAttr('required');
            }
        };

        if($('#mode').val() == 0){
            $('#cc_id_row').prop('hidden',true);
            changeCallRequired ();
        }
        else if($('#mode').val() == 1){
            $('#cc_id').prop('readOnly',true);
            changeCallRequired ();
        }
        else if($('#mode').val() === '2' || $('#mode').val() === '4'){
            $('#cc_id').prop('readOnly',true);
            $('#cc_person').prop('readOnly',true);
            $('#cc_position').prop('readOnly',true);

            $('#cc_main_phone_link').attr('disabled','disabled');
            $('#cc_main_phone').prop('readOnly',true);

            $('#cc_second_phone_link').attr('disabled','disabled');
            $('#cc_second_phone').prop('readOnly',true);

            $('#cc_main_office_phone_link').attr('disabled','disabled');
            $('#cc_main_office_phone').prop('readOnly',true);

            $('#cc_second_office_phone_link').attr('disabled','disabled');
            $('#cc_second_office_phone').prop('readOnly',true);

            $('#cc_email_link').attr('disabled','disabled');
            $('#cc_email').prop('readOnly',true);

            $('#cc_skype_link').attr('disabled','disabled');
            $('#cc_skype').prop('readOnly',true);

            $('#cc_note').prop('readOnly',true);
        }

        $('#cc_main_phone').on("change", function (){changeCallRequired()});
        $('#cc_second_phone').on("change", function (){changeCallRequired()});
        $('#cc_main_office_phone').on("change", function (){changeCallRequired()});
        $('#cc_second_office_phone').on("change", function (){changeCallRequired()});

<!-- Link Buttons Activation -->
        if($('#mode').val() !== 0 && $('#cc_main_phone_link').attr('href') !== ''){
            $('#cc_main_phone_link').removeClass('btn-dark').addClass('btn-primary').removeClass('disabled');
        }
        else{
            $('#cc_main_phone_link').prop('href','#').addClass('btn-dark').removeClass('btn-primary').addClass('disabled');
        }

        if($('#mode').val() !== 0 && $('#cc_second_phone_link').attr('href') !== ''){
            $('#cc_second_phone_link').removeClass('btn-dark').addClass('btn-primary').removeClass('disabled');
        }
        else{
            $('#cc_second_phone_link').prop('href','#').addClass('btn-dark').removeClass('btn-primary').addClass('disabled');
        }

        if($('#mode').val() !== 0 && $('#cc_main_office_phone_link').attr('href') !== ''){
            $('#cc_main_office_phone_link').removeClass('btn-dark').addClass('btn-primary').removeClass('disabled');
        }
        else{
            $('#cc_main_office_phone_link').prop('href','#').addClass('btn-dark').removeClass('btn-primary').addClass('disabled');
        }

        if($('#mode').val() !== 0 && $('#cc_second_office_phone_link').attr('href') !== ''){
            $('#cc_second_office_phone_link').removeClass('btn-default').addClass('btn-primary').removeClass('disabled');
        }
        else{
            $('#cc_second_office_phone_link').prop('href','#').addClass('btn-dark').removeClass('btn-primary').addClass('disabled');
        }

        if($('#mode').val() !== 0 && $('#cc_email_link').attr('href') !== ''){
            $('#cc_email_link').removeClass('btn-dark').addClass('btn-primary').removeClass('disabled');
        }
        else{
            $('#cc_email_link').prop('href','#').addClass('btn-dark').removeClass('btn-primary').addClass('disabled');
        }

        if($('#mode').val() !== 0 && $('#cc_skype_link').attr('href') !== ''){
            $('#cc_skype_link').removeClass('btn-dark').addClass('btn-primary').removeClass('disabled');
        }
        else{
            $('#cc_skype_link').prop('href','#').addClass('btn-dark').removeClass('btn-primary').addClass('disabled');
        }
    });
</script>
</body>
</html>