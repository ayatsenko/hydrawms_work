<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.thymeleaf.org ">
<body>

<nav th:fragment="navigation" class="navbar navbar-expand navbar-dark">
    <a class="sidebar-toggle d-flex mr-2">
        <i class="hamburger align-self-center"></i>
    </a>

    <div class="navbar-collapse collapse">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown active" sec:authorize="isAuthenticated()" hidden="true">
                <a class="nav-link dropdown-toggle" href="#" id="workspaceDropdown" data-toggle="dropdown" th:attr="wp_id=${@currentworkplace.getWp_id()}">
                    <span class="d-none d-lg-inline-block" th:text="${@currentworkplace.getWp_name()}">Workspace</span>
                    <span class="d-lg-none"><i class="align-middle fas fa-cog"></i></span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="workspaceDropdown" th:each="workplace :${@currentworkplace.getWorkplaces()}">
                    <a class="dropdown-item" href="#" th:attr="wp_id=${workplace.wp_id}"><i class="align-middle mr-1 fas fa-fw fa-user"></i> <span th:text="${workplace.wp_name}" th:remove="tag">Eugene</span></a>
                </div>
            </li>
            <li class="nav-item dropdown ml-lg-2" sec:authorize="isAuthenticated()">
                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" data-toggle="dropdown">
                    <span class="d-none d-lg-inline-block" th:text="#{general.profile}">Profile</span>
                    <span class="d-lg-none"><i class="align-middle fas fa-cog"></i></span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                    <a class="dropdown-item" th:href="@{/logout}" th:if="${#authorization.expression('isAuthenticated()')}"><i class="align-middle mr-1 fas fa-fw fa-arrow-alt-circle-right"></i><span th:text="#{general.logout}" th:remove="tag">Sign out</span></a>
                </div>
            </li>
            <li class="nav-item dropdown ml-lg-2">
                <a class="nav-link dropdown-toggle" href="#" id="langDropdown" data-toggle="dropdown">
                    <span class="d-none d-lg-inline-block" th:text="${#strings.toUpperCase(#locale)}">ENG</span>
                    <span class="d-lg-none"><i class="align-middle fas fa-envelope-open"></i></span>
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right py-0" aria-labelledby="langDropdown">
                    <div class="list-group languageSwitcher">
                        <a href="#" class="list-group-item" data-lang="en">
                            <div class="row no-gutters align-items-center">
                                <div class="col-2">
                                    <img th:src="@{/img/EnglishFlg.png}" class="avatar img-fluid rounded-circle" alt="ENG">
                                </div>
                                <div class="col-10 pl-2">
                                    <div class="text-dark">English</div>
                                    <div class="text-muted small mt-1">Switch to english</div>
                                </div>
                            </div>
                        </a>
                        <a href="#" class="list-group-item" data-lang="ru">
                            <div class="row no-gutters align-items-center">
                                <div class="col-2">
                                    <img th:src="@{/img/RussianFlg.png}" class="avatar img-fluid rounded-circle" alt="RU">
                                </div>
                                <div class="col-10 pl-2">
                                    <div class="text-dark">Русский</div>
                                    <div class="text-muted small mt-1">Переключить на Русский</div>
                                </div>
                            </div>
                        </a>
                        <a href="#" class="list-group-item" data-lang="chi">
                            <div class="row no-gutters align-items-center">
                                <div class="col-2">
                                    <img th:src="@{/img/ChinaFlg.png}" class="avatar img-fluid rounded-circle" alt="CHI">
                                </div>
                                <div class="col-10 pl-2">
                                    <div class="text-dark">中国</div>
                                    <div class="text-muted small mt-1">切换到中文</div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</nav>

</body>
</html>