<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.thymeleaf.org ">
<body>
<span th:fragment="dep_kpi_facts_users_body" th:remove="tag">
        <div><table id="table-dep-kpi-facts-users" class="table table-striped table-sm table-bordered" cellspacing="0" style="width:100%;"></table></div>
</span>

<script th:fragment="cardscript" th:inline="javascript">
        var user_id_width, user_name_width, user_surname_width, month_1_sum_width, month_1_bonus_width, month_2_sum_width, month_2_bonus_width, month_3_sum_width,  month_3_bonus_width,
                month_4_sum_width, month_4_bonus_width, month_5_sum_width, month_5_bonus_width, month_6_sum_width, month_6_bonus_width, month_7_sum_width, month_7_bonus_width,
                month_8_sum_width, month_8_bonus_width, month_9_sum_width, month_9_bonus_width, month_10_sum_width, month_10_bonus_width, month_11_sum_width, month_11_bonus_width,
                month_12_sum_width, month_12_bonus_width;

        var user_id_class, user_name_class, user_surname_class, month_1_sum_class, month_1_bonus_class, month_2_sum_class, month_2_bonus_class, month_3_sum_class,  month_3_bonus_class,
                month_4_sum_class, month_4_bonus_class, month_5_sum_class, month_5_bonus_class, month_6_sum_class, month_6_bonus_class, month_7_sum_class, month_7_bonus_class,
                month_8_sum_class, month_8_bonus_class, month_9_sum_class, month_9_bonus_class, month_10_sum_class, month_10_bonus_class, month_11_sum_class, month_11_bonus_class,
                month_12_sum_class, month_12_bonus_class;

        var ser_name_sh_header = /*[[#{dep_kpi_facts.list.ser_name_sh}]]*/ null;
        var head_ser_name, head_month_1, head_month_2, head_month_3, head_month_4, head_month_5, head_month_6, head_month_7, head_month_8, head_month_9, head_month_10, head_month_11, head_month_12, head_month_all,
                sum_head_month_1, sum_head_month_2, sum_head_month_3, sum_head_month_4, sum_head_month_5, sum_head_month_6, sum_head_month_7, sum_head_month_8, sum_head_month_9, sum_head_month_10,
                sum_head_month_11, sum_head_month_12, sum_head_month_all;
        var count_sh_header = /*[[#{dep_kpi_facts.list.count_sh}]]*/ null;
        var sum_sh_header = /*[[#{dep_kpi_facts.list.sum_sh}]]*/ null;
        var vJanHeader,vFebHeader,vMarchHeader,vAprlHeader,vMayHeader,vJuneHeader,vJulyHeader,vAugHeader,vSepHeader,vOctHeader,vNovHeader,vDecHeader;
        var jan_col_header_class, feb_col_header_class, march_col_header_class, aprl_col_header_class, may_col_header_class, june_col_header_class, july_col_header_class, aug_col_header_class,
                sep_col_header_class, oct_col_header_class, nov_col_header_class, dec_col_header_class;

        vJanHeader = /*[[#{month.01_short}]]*/ null;
        vFebHeader = /*[[#{month.02_short}]]*/ null;
        vMarchHeader = /*[[#{month.03_short}]]*/ null;
        vAprlHeader = /*[[#{month.04_short}]]*/ null;
        vMayHeader = /*[[#{month.05_short}]]*/ null;
        vJuneHeader = /*[[#{month.06_short}]]*/ null;
        vJulyHeader = /*[[#{month.07_short}]]*/ null;
        vAugHeader = /*[[#{month.08_short}]]*/ null;
        vSepHeader = /*[[#{month.09_short}]]*/ null;
        vOctHeader = /*[[#{month.10_short}]]*/ null;
        vNovHeader = /*[[#{month.11_short}]]*/ null;
        vDecHeader = /*[[#{month.12_short}]]*/ null;

        if(mobileScreenSize){
                vDomParam = "Blfrtip";
                user_id_width = "";
                user_id_class = "none";
                user_surname_width = "60%";
                user_surname_class = "small_size small_head_size small_footer_size head-center";
        }
        else if(smallScreenSize){
                vDomParam = "Blfrtip";
                user_id_width = "";
                user_id_class = "none";
                user_name_width = "16%";
                user_name_class = "extra_small_size extra_small_head_size small_footer_size head-center";
                user_surname_width = "";
                user_surname_class = "none";
                month_1_sum_width = "4%";
                month_1_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_1_bonus_width = "3%";
                month_1_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_2_sum_width = "4%";
                month_2_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";
                month_2_bonus_width = "3%";
                month_2_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";

                month_3_sum_width = "4%";
                month_3_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_3_bonus_width = "3%";
                month_3_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_4_sum_width = "4%";
                month_4_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";
                month_4_bonus_width = "3%";
                month_4_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";

                month_5_sum_width = "4%";
                month_5_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_5_bonus_width = "3%";
                month_5_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_6_sum_width = "4%";
                month_6_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";
                month_6_bonus_width = "3%";
                month_6_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";

                month_7_sum_width = "4%";
                month_7_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_7_bonus_width = "3%";
                month_7_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_8_sum_width = "4%";
                month_8_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";
                month_8_bonus_width = "3%";
                month_8_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";

                month_9_sum_width = "4%";
                month_9_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_9_bonus_width = "3%";
                month_9_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_10_sum_width = "4%";
                month_10_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";
                month_10_bonus_width = "3%";
                month_10_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";

                month_11_sum_width = "4%";
                month_11_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_11_bonus_width = "3%";
                month_11_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_12_sum_width = "4%";
                month_12_sum_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";
                month_12_bonus_width = "3%";
                month_12_bonus_class = "extra_small_size extra_small_head_size small_footer_size head-center text-center";

                jan_col_header_class = "text-center head-light-grey md_size";
                feb_col_header_class = "text-center md_size";
                march_col_header_class = "text-center head-light-grey md_size";
                aprl_col_header_class = "text-center md_size";
                may_col_header_class = "text-center head-light-grey md_size";
                june_col_header_class = "text-center md_size";
                july_col_header_class = "text-center head-light-grey md_size";
                aug_col_header_class = "text-center md_size";
                sep_col_header_class = "text-center head-light-grey md_size";
                oct_col_header_class = "text-center md_size";
                nov_col_header_class = "text-center head-light-grey md_size";
                dec_col_header_class = "text-center md_size";
        }
        else{
                vDomParam = "Blfrtip";
                user_id_width = "";
                user_id_class = "none";
                user_name_width = "16%";
                user_name_class = "small_size small_head_size small_footer_size head-center";
                user_surname_width = "";
                user_surname_class = "none";
                month_1_sum_width = "4%";
                month_1_sum_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_1_bonus_width = "3%";
                month_1_bonus_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_2_sum_width = "4%";
                month_2_sum_class = "small_size small_head_size small_footer_size head-center text-center";
                month_2_bonus_width = "3%";
                month_2_bonus_class = "small_size small_head_size small_footer_size head-center text-center";

                month_3_sum_width = "4%";
                month_3_sum_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_3_bonus_width = "3%";
                month_3_bonus_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_4_sum_width = "4%";
                month_4_sum_class = "small_size small_head_size small_footer_size head-center text-center";
                month_4_bonus_width = "3%";
                month_4_bonus_class = "small_size small_head_size small_footer_size head-center text-center";

                month_5_sum_width = "4%";
                month_5_sum_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_5_bonus_width = "3%";
                month_5_bonus_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_6_sum_width = "4%";
                month_6_sum_class = "small_size small_head_size small_footer_size head-center text-center";
                month_6_bonus_width = "3%";
                month_6_bonus_class = "small_size small_head_size small_footer_size head-center text-center";

                month_7_sum_width = "4%";
                month_7_sum_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_7_bonus_width = "3%";
                month_7_bonus_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_8_sum_width = "4%";
                month_8_sum_class = "small_size small_head_size small_footer_size head-center text-center";
                month_8_bonus_width = "3%";
                month_8_bonus_class = "small_size small_head_size small_footer_size head-center text-center";

                month_9_sum_width = "4%";
                month_9_sum_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_9_bonus_width = "3%";
                month_9_bonus_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_10_sum_width = "4%";
                month_10_sum_class = "small_size small_head_size small_footer_size head-center text-center";
                month_10_bonus_width = "3%";
                month_10_bonus_class = "small_size small_head_size small_footer_size head-center text-center";

                month_11_sum_width = "4%";
                month_11_sum_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";
                month_11_bonus_width = "3%";
                month_11_bonus_class = "small_size small_head_size small_footer_size head-center text-center cell-light-grey head-light-grey";

                month_12_sum_width = "4%";
                month_12_sum_class = "small_size small_head_size small_footer_size head-center text-center";
                month_12_bonus_width = "3%";
                month_12_bonus_class = "small_size small_head_size small_footer_size head-center text-center";

                jan_col_header_class = "text-center head-light-grey md_size";
                feb_col_header_class = "text-center md_size";
                march_col_header_class = "text-center head-light-grey md_size";
                aprl_col_header_class = "text-center md_size";
                may_col_header_class = "text-center head-light-grey md_size";
                june_col_header_class = "text-center md_size";
                july_col_header_class = "text-center head-light-grey md_size";
                aug_col_header_class = "text-center md_size";
                sep_col_header_class = "text-center head-light-grey md_size";
                oct_col_header_class = "text-center md_size";
                nov_col_header_class = "text-center head-light-grey md_size";
                dec_col_header_class = "text-center md_size";
        }

        var vDepKPIFactUsersValue;
        vDepKPIFactUsersValue = {
                table : '#table-dep-kpi-facts-users',
                ajax : {
                        "url": /*[[@{/dep_kpi_facts/get_users_table}]]*/ "dep_kpi_facts/get_users_table",
                        "type": "post",
                        "data": function ( d ) {
                                d.dep_kpi_facts_year = vDepKPIFactUsersValue.rowdata.dep_kpi_facts_year;
                                d.dep_id = vDepKPIFactUsersValue.rowdata.dep_id;
                        }
                },
                key : "user_id",
                switchControl : dep_kpi_facts_users_switchControl,
                rowdata:{
                        user_id: null,
                        dep_kpi_facts_year: null,
                        dep_id: null,
                        user_surname: null,
                        month_1_sum: null,
                        month_2_sum: null,
                        month_3_sum: null,
                        month_4_sum: null,
                        month_5_sum: null,
                        month_6_sum: null,
                        month_7_sum: null,
                        month_8_sum: null,
                        month_9_sum: null,
                        month_10_sum: null,
                        month_11_sum: null,
                        month_12_sum: null
                },
                ordering: true,
                order: [
                        [2, "asc"]
                ],

                dom: 'Blfrtip',
                createdRow: function(row, data, index) {
                        $(row).css('background-color', '#ffffff');

                        if(data["user_id"] === 0){
                                $(row).css('background-color','#d5e1df');
                                $(row).addClass("font-weight-bold");
                        }
                },
                columnDefs:[
                        {"targets": [3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26], render: $.fn.dataTable.render.number( '\ ', '.', 0, '' )}
                ],
                columns : [
                        /*0*/{"title": /*[[#{dep_kpi_facts.list.user_id}]]*/ "user_id", "data": "user_id", "width": user_id_width, "className": user_id_class},
                        /*1*/{"title": /*[[#{dep_kpi_facts.list.user_name}]]*/ "user_name", "data": "user_name", "width": user_name_width, "className": user_name_class},
                        /*2*/{"title": /*[[#{dep_kpi_facts.list.user_surname}]]*/ "user_surname", "data": "user_surname", "width": user_surname_width, "className": user_surname_class},

                        /*3*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_1_sum", "data": "month_1_sum", "width": month_1_sum_width, "className": month_1_sum_class},
                        /*4*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_1_bonus", "data": "month_1_bonus", "width": month_1_bonus_width, "className": month_1_bonus_class},
                        /*5*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_2_sum", "data": "month_2_sum", "width": month_2_sum_width, "className": month_2_sum_class},
                        /*6*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_2_bonus", "data": "month_2_bonus", "width": month_2_bonus_width, "className": month_2_bonus_class},
                        /*7*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_3_sum", "data": "month_3_sum", "width": month_3_sum_width, "className": month_3_sum_class},
                        /*8*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_3_bonus", "data": "month_3_bonus", "width": month_3_bonus_width, "className": month_3_bonus_class},
                        /*9*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_4_sum", "data": "month_4_sum", "width": month_4_sum_width, "className": month_4_sum_class},
                        /*10*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_4_bonus", "data": "month_4_bonus", "width": month_4_bonus_width, "className": month_4_bonus_class},
                        /*11*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_5_sum", "data": "month_5_sum", "width": month_5_sum_width, "className": month_5_sum_class},
                        /*12*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_5_bonus", "data": "month_5_bonus", "width": month_5_bonus_width, "className": month_5_bonus_class},
                        /*13*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_6_sum", "data": "month_6_sum", "width": month_6_sum_width, "className": month_6_sum_class},
                        /*14*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_6_bonus", "data": "month_6_bonus", "width": month_6_bonus_width, "className": month_6_bonus_class},

                        /*15*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_7_sum", "data": "month_7_sum", "width": month_7_sum_width, "className": month_7_sum_class},
                        /*16*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_7_bonus", "data": "month_7_bonus", "width": month_7_bonus_width, "className": month_7_bonus_class},
                        /*17*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_8_sum", "data": "month_8_sum", "width": month_8_sum_width, "className": month_8_sum_class},
                        /*18*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_8_bonus", "data": "month_8_bonus", "width": month_8_bonus_width, "className": month_8_bonus_class},
                        /*19*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_9_sum", "data": "month_9_sum", "width": month_9_sum_width, "className": month_9_sum_class},
                        /*20*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_9_bonus", "data": "month_9_bonus", "width": month_9_bonus_width, "className": month_9_bonus_class},
                        /*21*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_10_sum", "data": "month_10_sum", "width": month_10_sum_width, "className": month_10_sum_class},
                        /*22*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_10_bonus", "data": "month_10_bonus", "width": month_10_bonus_width, "className": month_10_bonus_class},
                        /*23*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_11_sum", "data": "month_11_sum", "width": month_11_sum_width, "className": month_11_sum_class},
                        /*24*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_11_bonus", "data": "month_11_bonus", "width": month_11_bonus_width, "className": month_11_bonus_class},
                        /*25*/{"title": /*[[#{dep_kpi_facts.list.sum}]]*/ "month_12_sum", "data": "month_12_sum", "width": month_12_sum_width, "className": month_12_sum_class},
                        /*26*/{"title": /*[[#{dep_kpi_facts.list.bonus}]]*/ "month_12_bonus", "data": "month_12_bonus", "width": month_12_bonus_width, "className": month_12_bonus_class}
                ],
                pageLength: 25,
                copy_button: true,
                excel_button: true,
                pdf_button: true,
                print_button: true
        };

        function ClearAllUserCard() {
                $('#dep_kpi_facts_tabs_div').attr('hidden', true);
                dep_kpi_facts_calc_month_01_hide();
                dep_kpi_facts_calc_month_02_hide();
        }

        function dep_kpi_facts_users_switchControl(){
                ClearAllUserCard();
                if(vDepKPIFactUsersValue.rowdata.user_id != null){
                        $('#dep_kpi_facts_tabs_div').removeAttr('hidden');
/*Month 01*/
                        vDepKPIFactCalcMonth01Value.rowdata.dep_kpi_user_id = vDepKPIFactUsersValue.rowdata.user_id;
                        vDepKPIFactCalcMonth01Value.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                        vDepKPIFactCalcMonth01Value.rowdata.dep_id = vDepKPIFactListValue.rowdata.dep_id;
                        $(vDepKPIFactCalcMonth01Value.table).DataTable().ajax.reload(null, false);
/*Month 02*/
                        vDepKPIFactCalcMonth02Value.rowdata.dep_kpi_user_id = vDepKPIFactUsersValue.rowdata.user_id;
                        vDepKPIFactCalcMonth02Value.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                        vDepKPIFactCalcMonth02Value.rowdata.dep_id = vDepKPIFactListValue.rowdata.dep_id;
                        $(vDepKPIFactCalcMonth02Value.table).DataTable().ajax.reload(null, false);
/*Month 03*/
                        vDepKPIFactCalcMonth03Value.rowdata.dep_kpi_user_id = vDepKPIFactUsersValue.rowdata.user_id;
                        vDepKPIFactCalcMonth03Value.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                        vDepKPIFactCalcMonth03Value.rowdata.dep_id = vDepKPIFactListValue.rowdata.dep_id;
                        $(vDepKPIFactCalcMonth03Value.table).DataTable().ajax.reload(null, false);
/*Month 04*/
                        vDepKPIFactCalcMonth04Value.rowdata.dep_kpi_user_id = vDepKPIFactUsersValue.rowdata.user_id;
                        vDepKPIFactCalcMonth04Value.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                        vDepKPIFactCalcMonth04Value.rowdata.dep_id = vDepKPIFactListValue.rowdata.dep_id;
                        $(vDepKPIFactCalcMonth04Value.table).DataTable().ajax.reload(null, false);
/*Month 05*/
                        vDepKPIFactCalcMonth05Value.rowdata.dep_kpi_user_id = vDepKPIFactUsersValue.rowdata.user_id;
                        vDepKPIFactCalcMonth05Value.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                        vDepKPIFactCalcMonth05Value.rowdata.dep_id = vDepKPIFactListValue.rowdata.dep_id;
                        $(vDepKPIFactCalcMonth05Value.table).DataTable().ajax.reload(null, false);
/*Month 06*/
                        vDepKPIFactCalcMonth06Value.rowdata.dep_kpi_user_id = vDepKPIFactUsersValue.rowdata.user_id;
                        vDepKPIFactCalcMonth06Value.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                        vDepKPIFactCalcMonth06Value.rowdata.dep_id = vDepKPIFactListValue.rowdata.dep_id;
                        $(vDepKPIFactCalcMonth06Value.table).DataTable().ajax.reload(null, false);
                }
                else{
                        vDepKPIFactCalcMonth01Value.rowdata.dep_kpi_user_id = null;
                        vDepKPIFactCalcMonth01Value.rowdata.dep_kpi_facts_year = null;
                        vDepKPIFactCalcMonth01Value.rowdata.dep_id = null;
                        vDepKPIFactCalcMonth01Value.rowdata.user_kpi_type_id = null;
                        $(vDepKPIFactCalcMonth01Value.table).DataTable().clear().draw();

                        vDepKPIFactCalcMonth02Value.rowdata.dep_kpi_user_id = null;
                        vDepKPIFactCalcMonth02Value.rowdata.dep_kpi_facts_year = null;
                        vDepKPIFactCalcMonth02Value.rowdata.dep_id = null;
                        vDepKPIFactCalcMonth02Value.rowdata.user_kpi_type_id = null;
                        $(vDepKPIFactCalcMonth02Value.table).DataTable().clear().draw();

                        vDepKPIFactCalcMonth03Value.rowdata.dep_kpi_user_id = null;
                        vDepKPIFactCalcMonth03Value.rowdata.dep_kpi_facts_year = null;
                        vDepKPIFactCalcMonth03Value.rowdata.dep_id = null;
                        vDepKPIFactCalcMonth03Value.rowdata.user_kpi_type_id = null;
                        $(vDepKPIFactCalcMonth03Value.table).DataTable().clear().draw();

                        vDepKPIFactCalcMonth04Value.rowdata.dep_kpi_user_id = null;
                        vDepKPIFactCalcMonth04Value.rowdata.dep_kpi_facts_year = null;
                        vDepKPIFactCalcMonth04Value.rowdata.dep_id = null;
                        vDepKPIFactCalcMonth04Value.rowdata.user_kpi_type_id = null;
                        $(vDepKPIFactCalcMonth04Value.table).DataTable().clear().draw();

                        vDepKPIFactCalcMonth05Value.rowdata.dep_kpi_user_id = null;
                        vDepKPIFactCalcMonth05Value.rowdata.dep_kpi_facts_year = null;
                        vDepKPIFactCalcMonth05Value.rowdata.dep_id = null;
                        vDepKPIFactCalcMonth05Value.rowdata.user_kpi_type_id = null;
                        $(vDepKPIFactCalcMonth05Value.table).DataTable().clear().draw();

                        vDepKPIFactCalcMonth06Value.rowdata.dep_kpi_user_id = null;
                        vDepKPIFactCalcMonth06Value.rowdata.dep_kpi_facts_year = null;
                        vDepKPIFactCalcMonth06Value.rowdata.dep_id = null;
                        vDepKPIFactCalcMonth06Value.rowdata.user_kpi_type_id = null;
                        $(vDepKPIFactCalcMonth06Value.table).DataTable().clear().draw();
                }
        }

        $('.dep_kpi_facts_dep_btn_control').on('click', function (){
                $("#dep-kpi-facts-users-detail input[name=mode]").val($(this).attr("mode"));
        });

        $('#dep-kpi-facts-users-detail').submit(function() {
                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_dep_table_order_column = $(vDepKPIFactUsersValue.table).DataTable().order()[0][0];
                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_dep_table_order_type = $(vDepKPIFactUsersValue.table).DataTable().order()[0][1];
                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_dep_table_search = $(vDepKPIFactUsersValue.table).DataTable().search();
                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_dep_table_pagelen = $(vDepKPIFactUsersValue.table).DataTable().page.len();
                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_dep_table_page = $(vDepKPIFactUsersValue.table).DataTable().page.info().page;
                <!-- Recreate Contragent Ajax Filter Value -->

                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_year = $("#dep_kpi_facts_year").val();
                vDepKPIFactUsersValue.rowdata.user_kpi_type_id = $("#user_kpi_type_list").val();

                Object.keys(vDepKPIFactUsersValue.rowdata).forEach(function (index) {
                        $("#dep-kpi-facts-users-detail").append("<input name=\"" + index + "\" hidden>");
                        $("#dep-kpi-facts-users-detail input[name=\"" + index + "\"]").val(vDepKPIFactUsersValue.rowdata[index]);
                });
        });

        $(document).ready(function(){
                vDepKPIFactUsersValue.rowdata.user_id = /*[[${user_id}]]*/ null;
                vDepKPIFactUsersValue.rowdata.dep_kpi_facts_year = /*[[${dep_kpi_facts_year}]]*/ null;
                vDepKPIFactUsersValue.rowdata.user_kpi_type_id = /*[[${user_kpi_type_id}]]*/ null;

                vDepKPIFactUsersValue.rowdata.table_order_column = /*[[${table_order_column}]]*/ null;
                vDepKPIFactUsersValue.rowdata.table_order_type = /*[[${table_order_type}]]*/ null;
                vDepKPIFactUsersValue.rowdata.table_search = /*[[${table_search}]]*/ null;
                vDepKPIFactUsersValue.rowdata.table_pagelen = /*[[${table_pagelen}]]*/ null;
                vDepKPIFactUsersValue.rowdata.table_page = /*[[${table_page}]]*/ null;

                recreateDataTable(vDepKPIFactUsersValue);

                var currentTable = $('#table-dep-kpi-facts-users').DataTable();
                if (mobileScreenSize) {
                        head_ser_name = currentTable.columns(2).header();
                        $(head_ser_name).html(ser_name_sh_header);
                        head_month_1 = currentTable.columns(4).header();
                        $(head_month_1).html(sum_head_month_1);
                        head_month_2 = currentTable.columns(6).header();
                        $(head_month_2).html(sum_head_month_2);
                        head_month_3 = currentTable.columns(8).header();
                        $(head_month_3).html(sum_head_month_3);
                        head_month_4 = currentTable.columns(10).header();
                        $(head_month_4).html(sum_head_month_4);
                        head_month_5 = currentTable.columns(12).header();
                        $(head_month_5).html(sum_head_month_5);
                        head_month_6 = currentTable.columns(14).header();
                        $(head_month_6).html(sum_head_month_6);
                        head_month_7 = currentTable.columns(16).header();
                        $(head_month_7).html(sum_head_month_7);
                        head_month_8 = currentTable.columns(18).header();
                        $(head_month_8).html(sum_head_month_8);
                        head_month_9 = currentTable.columns(20).header();
                        $(head_month_9).html(sum_head_month_9);
                        head_month_10 = currentTable.columns(22).header();
                        $(head_month_10).html(sum_head_month_10);
                        head_month_11 = currentTable.columns(24).header();
                        $(head_month_11).html(sum_head_month_11);
                        head_month_12 = currentTable.columns(26).header();
                        $(head_month_12).html(sum_head_month_12);

                        $(vDepKPIFactUsersValue.table+'_length').addClass('float-none');
                        $(vDepKPIFactUsersValue.table+'_filter').addClass('float-none');
                }
                else if (smallScreenSize) {
                        head_month_1 = currentTable.columns(3).header();
                        $(head_month_1).html(sum_sh_header);
                        <!-- Month 1 -->
                        head_month_2 = currentTable.columns(5).header();
                        $(head_month_2).html(sum_sh_header);
                        <!-- Month 2 -->
                        head_month_3 = currentTable.columns(7).header();
                        $(head_month_3).html(sum_sh_header);
                        <!-- Month 3 -->
                        head_month_4 = currentTable.columns(9).header();
                        $(head_month_4).html(sum_sh_header);
                        <!-- Month 4 -->
                        head_month_5 = currentTable.columns(11).header();
                        $(head_month_5).html(sum_sh_header);
                        <!-- Month 5 -->
                        head_month_6 = currentTable.columns(13).header();
                        $(head_month_6).html(sum_sh_header);
                        <!-- Month 6 -->
                        head_month_7 = currentTable.columns(15).header();
                        $(head_month_7).html(sum_sh_header);
                        <!-- Month 7 -->
                        head_month_8 = currentTable.columns(17).header();
                        $(head_month_8).html(sum_sh_header);
                        <!-- Month 8 -->
                        head_month_9 = currentTable.columns(19).header();
                        $(head_month_9).html(sum_sh_header);
                        <!-- Month 9 -->
                        head_month_10 = currentTable.columns(21).header();
                        $(head_month_10).html(sum_sh_header);
                        <!-- Month 10 -->
                        head_month_11 = currentTable.columns(23).header();
                        $(head_month_11).html(sum_sh_header);
                        <!-- Month 11 -->
                        head_month_12 = currentTable.columns(25).header();
                        $(head_month_12).html(sum_sh_header);
                        <!-- Month 12 -->

                        $("#table-dep-kpi-facts-users thead tr:first").before(
                                '<tr role="row">' +
                                '<th></th>' +
                                '<th colspan="2" id="jan_col_header" class="' + jan_col_header_class + '">' + vJanHeader + '</th>' +
                                '<th colspan="2" id="feb_col_header" class="' + feb_col_header_class + '">' + vFebHeader + '</th>' +
                                '<th colspan="2" id="march_col_header" class="' + march_col_header_class + '">' + vMarchHeader + '</th>' +
                                '<th colspan="2" id="aprl_col_header" class="' + aprl_col_header_class + '">' + vAprlHeader + '</th>' +
                                '<th colspan="2" id="may_col_header" class="' + may_col_header_class + '">' + vMayHeader + '</th>' +
                                '<th colspan="2" id="june_col_header" class="' + june_col_header_class + '">' + vJuneHeader + '</th>' +
                                '<th colspan="2" id="july_col_header" class="' + july_col_header_class + '">' + vJulyHeader + '</th>' +
                                '<th colspan="2" id="aug_col_header" class="' + aug_col_header_class + '">' + vAugHeader + '</th>' +
                                '<th colspan="2" id="sep_col_header" class="' + sep_col_header_class + '">' + vSepHeader + '</th>' +
                                '<th colspan="2" id="oct_col_header" class="' + oct_col_header_class + '">' + vOctHeader + '</th>' +
                                '<th colspan="2" id="nov_col_header" class="' + nov_col_header_class + '">' + vNovHeader + '</th>' +
                                '<th colspan="2" id="dec_col_header" class="' + dec_col_header_class + '">' + vDecHeader + '</th>' +
                                '</tr>'
                        );
                }
                else{
                        $("#table-dep-kpi-facts-users thead tr:first").before(
                                '<tr role="row">' +
                                '<th></th>' +
                                '<th colspan="2" id="jan_col_header" class="' + jan_col_header_class + '">' + vJanHeader + '</th>' +
                                '<th colspan="2" id="feb_col_header" class="' + feb_col_header_class + '">' + vFebHeader + '</th>' +
                                '<th colspan="2" id="march_col_header" class="' + march_col_header_class + '">' + vMarchHeader + '</th>' +
                                '<th colspan="2" id="aprl_col_header" class="' + aprl_col_header_class + '">' + vAprlHeader + '</th>' +
                                '<th colspan="2" id="may_col_header" class="' + may_col_header_class + '">' + vMayHeader + '</th>' +
                                '<th colspan="2" id="june_col_header" class="' + june_col_header_class + '">' + vJuneHeader + '</th>' +
                                '<th colspan="2" id="july_col_header" class="' + july_col_header_class + '">' + vJulyHeader + '</th>' +
                                '<th colspan="2" id="aug_col_header" class="' + aug_col_header_class + '">' + vAugHeader + '</th>' +
                                '<th colspan="2" id="sep_col_header" class="' + sep_col_header_class + '">' + vSepHeader + '</th>' +
                                '<th colspan="2" id="oct_col_header" class="' + oct_col_header_class + '">' + vOctHeader + '</th>' +
                                '<th colspan="2" id="nov_col_header" class="' + nov_col_header_class + '">' + vNovHeader + '</th>' +
                                '<th colspan="2" id="dec_col_header" class="' + dec_col_header_class + '">' + vDecHeader + '</th>' +
                                '</tr>'
                        );
                }
        });
</script>

</body>
</html>