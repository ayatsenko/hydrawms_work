<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.thymeleaf.org ">
<body>
<span th:fragment="projects_timetable_detail_body" th:remove="tag">
        <div><table id="table-projects-timetable-detail" class="table table-striped table-sm table-bordered" cellspacing="0" style="width:100%;"></table></div>
</span>

<script th:fragment="cardscript" th:inline="javascript">


    var vProjectsTimetableValue;
    vProjectsTimetableValue = {
        table : '#table-projects-timetable-detail',
        button_form: "#table-projects-timetable-detail-buttons",
        ajax : {
            "url": /*[[@{/projects_timetable/get_detail_table}]]*/ "projects_timetable/get_detail_table",
            "type": "post",
            "data": {
            }
        },
        key : "rn",
        switchControl : projects_timetable_detail_switchControl,
        rowdata:{
            rn: null
        },
        ordering: true,
        order: [
            [0, "asc"]
        ],

        dom: 'Blfrtip',
        createdRow: function( row, data, dataIndex ) {
            $(row).css('background-color', data["act_result_colour"]);
                if(data["pr_sname"] === 'Всего:'){
                        $(row).css('background-color','#d5e1df');
                        $(row).addClass("font-weight-bold");
                }
                else if(data["pr_sname"] === 'Итог:'){
                        $(row).css('background-color','#c4b7a6');
                        $(row).addClass("font-weight-bold");
                }
        },
        columnDefs:[
            {"targets": [0], "visible": false},
            {"targets": [1], "visible": false},
            {"targets": [3], "visible": false},
            {"targets": [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],  render: $.fn.dataTable.render.number( '\ ', '.', 0, '' )}
        ],
        columns : [
            /*0*/{"title": /*[[#{projects_timetable.detail.rn}]]*/ "rn", "data": "rn"},
            /*1*/{"title": /*[[#{projects_timetable.detail.pr_id}]]*/ "pr_id", "data": "pr_id"},
            /*2*/{"title": /*[[#{projects_timetable.detail.pr_sname}]]*/ "pr_sname", "data": "pr_sname", "width": "10%", "className": "small_size small_head_size small_footer_size"},
            /*3*/{"title": /*[[#{projects_timetable.detail.pr_pay_type_id}]]*/ "pr_pay_type_id", "data": "pr_pay_type_id"},
            /*4*/{"title": /*[[#{projects_timetable.detail.pr_pay_type_sname}]]*/ "pr_pay_type_sname", "data": "pr_pay_type_sname", "width": "5%", "className": "small_size small_head_size small_footer_size text-center"},

            /*5*/{"title": /*[[#{month.01_short}]]*/ "month_01", "data": "month_01", "width": "3%", "className": "small_size small_head_size small_footer_size text-center "},
            /*6*/{"title": /*[[#{month.02_short}]]*/ "month_02", "data": "month_02", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*7*/{"title": /*[[#{month.03_short}]]*/ "month_03", "data": "month_03", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*8*/{"title": /*[[#{month.04_short}]]*/ "month_04", "data": "month_04", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*9*/{"title": /*[[#{month.05_short}]]*/ "month_05", "data": "month_05", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*10*/{"title": /*[[#{month.06_short}]]*/ "month_06", "data": "month_06", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*11*/{"title": /*[[#{month.07_short}]]*/ "month_07", "data": "month_07", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*12*/{"title": /*[[#{month.08_short}]]*/ "month_08", "data": "month_08", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*13*/{"title": /*[[#{month.09_short}]]*/ "month_09", "data": "month_09", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*14*/{"title": /*[[#{month.10_short}]]*/ "month_10", "data": "month_10", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*15*/{"title": /*[[#{month.11_short}]]*/ "month_11", "data": "month_11", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*16*/{"title": /*[[#{month.12_short}]]*/ "month_12", "data": "month_12", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},

            /*17*/{"title": /*[[#{month.01_short}]]*/ "month_13", "data": "month_13", "width": "3%", "className": "small_size small_head_size small_footer_size text-center "},
            /*18*/{"title": /*[[#{month.02_short}]]*/ "month_14", "data": "month_14", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*19*/{"title": /*[[#{month.03_short}]]*/ "month_15", "data": "month_15", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*20*/{"title": /*[[#{month.04_short}]]*/ "month_16", "data": "month_16", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*21*/{"title": /*[[#{month.05_short}]]*/ "month_17", "data": "month_17", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*22*/{"title": /*[[#{month.06_short}]]*/ "month_18", "data": "month_18", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*23*/{"title": /*[[#{month.07_short}]]*/ "month_19", "data": "month_19", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*24*/{"title": /*[[#{month.08_short}]]*/ "month_20", "data": "month_20", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*25*/{"title": /*[[#{month.09_short}]]*/ "month_21", "data": "month_21", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*26*/{"title": /*[[#{month.10_short}]]*/ "month_22", "data": "month_22", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*27*/{"title": /*[[#{month.11_short}]]*/ "month_23", "data": "month_23", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},
            /*28*/{"title": /*[[#{month.12_short}]]*/ "month_24", "data": "month_24", "width": "3%", "className": "small_size small_head_size small_footer_size text-center"},

            /*29*/{"title": /*[[#{projects_timetable.detail.month_all}]]*/ "month_all", "data": "month_all", "width": "6%", "className": "small_size small_head_size small_footer_size text-center"}
        ],
        pageLength: 25,
        copy_button: true,
        excel_button: true,
        pdf_button: true,
        print_button: true
    };

    function projects_timetable_detail_switchControl(){
    }

    $('.positions_btn_control').on('click', function (){
        $("#positions-detail input[name=mode]").val($(this).attr("mode"));
    });

    $(document).ready(function(){
        recreateDataTable(vProjectsTimetableValue);

         $("#table-projects-timetable-detail thead tr:first").before(
                    '<tr role="row">' +
                    '<th colspan="2"></th>' +
                    '<th colspan="12" class="text-center">2019</th>' +
                    '<th colspan="12" class="text-center">2020</th>' +
                    '<th></th>' +
                    '</tr>');
    });
</script>

</body>
</html>